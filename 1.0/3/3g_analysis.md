# Разбор задачи: "Черепахи"

## Условие задачи

По дороге одна за другой движутся N черепах. Каждая i-я черепаха говорит фразу вида: "Впереди меня aᵢ черепах, а позади меня bᵢ черепах".

Нужно определить максимальное количество черепах, которые могут говорить правду.

**Формат ввода:**

- Первая строка: N (1 ≤ N ≤ 10000) - количество черепах
- Следующие N строк: aᵢ bᵢ - высказывания каждой черепахи

**Формат вывода:**

- Одно число M - максимальное количество черепах, которые могут говорить правду

## Анализ задачи

### Ключевые наблюдения:

1. **Общее количество черепах фиксировано**: Если всего N черепах, то для любой черепахи сумма черепах впереди и позади должна равняться N-1.

2. **Условие правдивости**: Черепаха может говорить правду только если `aᵢ + bᵢ = N - 1`

3. **Позиционирование**: Если черепаха говорит "впереди меня aᵢ черепах", то она находится на позиции aᵢ (считая с 0).

4. **Уникальность позиций**: Две черепахи не могут занимать одну и ту же позицию.

### Пример разбора:

```
Ввод:
3
2 0
0 2
2 2
```

**Анализ каждой черепахи:**

- **Черепаха 1**: говорит "впереди 2, позади 0"

  - Проверка: 2 + 0 = 2 = 3 - 1 ✓
  - Позиция: 2 (третья в ряду)
  - Может говорить правду

- **Черепаха 2**: говорит "впереди 0, позади 2"

  - Проверка: 0 + 2 = 2 = 3 - 1 ✓
  - Позиция: 0 (первая в ряду)
  - Может говорить правду

- **Черепаха 3**: говорит "впереди 2, позади 2"
  - Проверка: 2 + 2 = 4 ≠ 3 - 1 ✗
  - Не может говорить правду

**Результат**: 2 черепахи могут говорить правду (на позициях 0 и 2).

## Алгоритм решения

1. **Фильтрация валидных высказываний**: Для каждой черепахи проверяем условие `aᵢ + bᵢ = N - 1`

2. **Определение позиций**: Для каждой валидной черепахи определяем её позицию как aᵢ

3. **Подсчет уникальных позиций**: Используем Set для хранения уникальных позиций

4. **Возврат результата**: Размер Set - это максимальное количество черепах, которые могут говорить правду

## Реализация

```javascript
const getResult = (data) => {
  const length = parseInt(data[0].trim());
  const validPositions = new Set();

  for (let i = 1; i <= length; i++) {
    const [a, b] = data[i]
      .trim()
      .split(" ")
      .map((input) => parseInt(input));

    // Проверяем, что черепаха может говорить правду
    if (a >= 0 && b >= 0 && a + b === length - 1) {
      // Позиция черепахи (впереди a черепах означает позицию a)
      validPositions.add(a);
    }
  }

  return validPositions.size;
};
```

## Сложность

- **Временная сложность**: O(N) - один проход по всем черепахам
- **Пространственная сложность**: O(N) - в худшем случае все черепахи могут говорить правду

## Дополнительные примеры

### Пример 1:

```
Ввод:
4
0 3
1 2
2 1
3 0

Вывод: 4
```

Все черепахи могут говорить правду, занимая позиции 0, 1, 2, 3.

### Пример 2:

```
Ввод:
3
1 1
1 1
1 1

Вывод: 1
```

Все черепахи хотят занять позицию 1, но только одна может это сделать.

### Пример 3:

```
Ввод:
2
0 0
1 0

Вывод: 0
```

Ни одна черепаха не может говорить правду, так как 0+0 ≠ 2-1 и 1+0 ≠ 2-1.

## Возможные ошибки

1. **Неправильная проверка условия**: Забыть проверить `a + b = N - 1`
2. **Дублирование позиций**: Не учесть, что несколько черепах могут претендовать на одну позицию
3. **Отрицательные значения**: Не проверить `a >= 0` и `b >= 0`
4. **Индексация**: Перепутать нумерацию позиций (с 0 или с 1)
